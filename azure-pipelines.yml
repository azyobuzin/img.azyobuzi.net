trigger:
  branches:
    exclude: [v1, v2, oldv3]

pr:
  branches:
    include: [master]

pool:
  vmImage: ubuntu-16.04

steps:
  - task: DotNetCoreInstaller@0
    inputs:
      version: '2.2.103'
  - script: dotnet test TestProjects/ImgAzyobuziNet.Core.Test/ImgAzyobuziNet.Core.Test.csproj --filter TestCategory=Static --logger trx
    displayName: Run tests
  - task: PublishTestResults@2
    condition: succeededOrFailed()
    inputs:
      testRunner: VSTest
      testResultsFiles: '**/*.trx'
